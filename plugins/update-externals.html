<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Update Externals Plugin</title>
  
  <script type="text/javascript" src="../scripts/highlight.js"></script>
  <link rel="stylesheet" href="../styles/style.css">
</head>
<body>
  <div id="sidebar" class="interface"><ul><li class="header"><a href="index.html">Plugins</a><ul class="sub"><li><a href="../plugins/conditional.html">Conditional Plugin</a></li><li><a href="../plugins/inline-styles.html">Inline Styles Plugin</a></li><li><a href="../plugins/module-map.html">Module Map Plugin</a></li><li><a href="../plugins/package-config.html">Package Config Plugin</a></li><li><a href="../plugins/router.html">Router Plugin</a></li><li><a href="../plugins/scope.html">Scope Plugin</a></li><li><a href="../plugins/static-resources.html">Static Resources Plugin</a></li><li><a href="../plugins/stylus.html">Stylus Plugin</a></li><li><a href="../plugins/template.html">Template Plugin</a></li><li><a href="../plugins/update-externals.html">Update Externals Plugin</a></li></ul></li><li class="header"><a href="../">Home</a></li></ul></div>
  <div class="container"><div class="page">
    <h1>Update Externals Plugin</h1>

<h2 id="introduction">Introduction</h2>

<p>The update externals plugin allows for updates to html files that need to
reference external resources generated by lumbar.</p>

<h2 id="usage">Usage</h2>

<p>The update externals plugin will automatically execute on any static files with
the <em>.html</em> or <em>.htm</em> extensions. This can be disabled by adding <code>"update-externals": false</code>
to the resource. Execution on files with other extensions can be enabled by
<code>"update-externals": true</code> on the desired resource.</p>

<p>When enabled the plugin will update any <code>&lt;script&gt;</code> and <code>&lt;link&gt;</code> elements that reference
modules in the form of <code>module:${name}</code> where <code>${name}</code> is the name of the module to
reference.</p>

<p>Combined modules may be loaded by setting the <code>href</code> or <code>src</code> attribute to any module
reference within the combined package.</p>

<p>Note that this plugin is required to use <a href="https://github.com/walmartlabs/lumbar-loader">lumbar-loader</a>
as this configures the <code>lumbarLoadPrefix</code> variable.</p>

<h2 id="example">Example</h2>

<p>For a html file with the following elements,</p>

<pre><code>&lt;link rel="stylesheet" type="text/css" href="base.css"&gt;
&lt;link rel="stylesheet" type="text/css" href="module:base"&gt;
&lt;script type="text/javascript" src="base.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="module:base"&gt;&lt;/script&gt;</code></pre>

<p>update-externals will generate the following output</p>

<pre><code>&lt;link rel="stylesheet" type="text/css" href="base.css"&gt;
&lt;link rel="stylesheet" type="text/css" href="/r/phoenix/web/base.css"&gt;
&lt;script type="text/javascript" src="base.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;var lumbarLoadPrefix = '/r/phoenix/web/base';&lt;/script&gt;
&lt;script type="text/javascript" src="/r/phoenix/web/base.js"&gt;&lt;/script&gt;</code></pre>
  </div></div>
  <a href="http://github.com/walmartlabs/lumbar">
    <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://a248.e.akamai.net/assets.github.com/img/71eeaab9d563c2b3c590319b398dd35683265e85/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub">
  </a>
</body>
</html>
